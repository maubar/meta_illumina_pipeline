/* Configure steps, CPU and PATH requirements */
process {
    /* ASSEMBLY Processes */
    withName: asm_megahit {
        module = 'megahit/1.1.4'
        cpus = 16
    }
    withName: asm_metaspades{
        module = 'spades/3.7.0'
        cpus = 16

    }
    withName: asm_filter_contigs{
        //seqtk is in path
        cpus = 1
    }

    withName: asm_map_reads_to_contigs{
        module = 'bbtools/36.38'
        cpus = 8
    }

    withName: asm_mapping_stats{
        module = 'samtools/1.9'
        cpus = 1
    }
    withName: asm_per_ctg_coverage{
        module = 'bbtools/36.38'
        cpus = 1
    }

    /* TAX READS Processes */
    withName: tax_reads_metaphlan2{
        module = 'metaphlan2/2.7.6'
        cpus=8
    }

    withName: tax_reads_FastViromeExplorer{
        module='samtools/1.9'
        conda='quasimap'
    }

    withName: tax_reads_kraken2{
        module = 'kraken2/2.0.7-beta'
        cpus=8
    }

    /* TAX CONTIGS Processes */

    withName: tax_contigs_kraken2{
        module = 'kraken2/2.0.7-beta'
        cpus=8
    }

    withName: tax_contigs_diamond{
        module = 'diamond/0.9.22'
    }

    /*
    withName: tax_diamond_lca{}
    withName: tax_contigs_virfinder{}
    withName: tax_contigs_virsorter{}
    withName: tax_contigs_FragGeneScan{}
    withName: tax_orfs_hmmscan{}
    */
}
